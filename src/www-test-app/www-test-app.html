<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="www-test-app">
  <template>
    <style>
     :host {
      display: block;
    }

    </style>
    <h2>www Test APP</h2>
    <www-celula1 counter="{{x}}"></www-celula1>
    <button on-click="createCelula2">Create Celula 2</button>
  </template>

  <script>
  Polymer({

    is: 'www-test-app',

    properties: {
      x: {
        type: Number,
        value: 0,
        observer: 'myObserver'
      }
    },
    createCelula2: function() {
      var self = this;
      var el = this.$.el = document.createElement("www-celula2");
      this.appendChild(el);
      el.addEventListener('counter-changed', function(ev) {
        self.x = this.counter;
        console.log(self.x);
      });
    },

    myObserver: function(nValue) {
      if (this.$.el) {
        this.$.el.counter = nValue;
      }
    }

  });

  </script>
</dom-module>
